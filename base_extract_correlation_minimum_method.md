# 基底抽出割算相関最小法(base extract division correlation minimum method)  

基底を用いてデータの周期性や連続性、パターンを計算する手法です。

略称:becm法(becm Method)


# 基底抽出相関最小法について  
フーリエ変換変換のように事象の周期性を求めるために、発案した手法です。  
数学的な厳密性はないが、波による周期性ではなく設定した間隔の頻度を計算する手法です。  
また、(割り算)相関の計算途中の値を見ることによりどの位置で任意のパターンが発生しているか確認できます。    

![基底抽出相関最小法](https://user-images.githubusercontent.com/124280238/216363851-26d708cc-440b-4e65-8363-3bbf618fb1df.png)

頻度解析では、基底を二つをおき、その二つの基底の間隔を一つずつ増やしていき、  
データの周期性を計算しています。    
データの網羅性を確保するため、総期間の1/2の周期までの周期の計算をしています。  
連続性解析では、基底を連続でおき、基底の数を一つずつ増やしていき、  
データの連続性を計算しています。  
任意の基底解析では、任意の基底をおき、  
相関取得毎の最小値を初期位置毎に出力しています。  
これにより、任意のパターンがどのタイミングで発生した検討できます。   
なお、任意の基底では、抽出処理後の基底と割り算取得後の最小値をとる事により、  
それぞれの位置での大きさの違いも表現する事が可能である。  
任意の基底の0ではない値の絶対値の最小値を1して計算を行うと、  
大きさの比率も含めてパターンを抽出可能です。  

# エイリアス
フーリエ変換と同様に基底抽出相関最小法でもエイリアスが発生します。  
下の図はエイリアスを表示したものです。  

![エイリアス](https://user-images.githubusercontent.com/124280238/216364140-38229fd7-0f83-4e06-a833-309869cba326.png)


図は、3回に一度規則的に現象が発生しているデータを解析したものです。  
これを周期解析すると、3回に一度、6回に一度、9回に一度、....といった、  
倍数の周期に成分がある事がわかります。  
特定周期のみのデータの場合、この影響を除去する事は容易だが、  
特定の条件に当てはまらない複数の周期が混在している場合除去が難しい。  
エイリアスが発生する事を前提として分析を行う事が望ましい。  

# その他注意点
任意の基底で負の値に対応する関数も作成しました。  
負の値に対応する場合処理の分岐が多くなりましたが対応可能でした。  
しかし負の値は、情報を切る部分が増えるので、  
データの重なりにより基底パターンが正確に出ない場合があり、  
あまり使用をお勧めしません。  
負の値がある場合は、最小値を足して正の値のみで解析する事をお勧めします。  

- 出力例  

![基底抽出相関最小法_1D_output](https://user-images.githubusercontent.com/124280238/216363933-1b8f515f-3970-4d4f-ad47-c860e8c3fef3.png)

![基底抽出相関最小法_2D_output](https://user-images.githubusercontent.com/124280238/216364029-2af5cad8-bff8-4ee5-b3ad-87f54379f778.png)
